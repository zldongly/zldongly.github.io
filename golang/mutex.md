# 常见实现原理
* Barging  
 当锁释放时，回唤醒第一个等待者，把锁给第一个等待者或第一个请求者  
 吞吐量高  
 * Handsoff  
 当锁释放时，锁回一直持有，知道第一个等待者准备好获取锁  
 公平但降低了吞吐量
 * Spinning  
 自旋  
 适用于等待队列为空  
 缺点开销成本大  

 # go的实现
 * 1.8  
 Barging + Spinning  
 试图持锁时，本地队列为空(没有其他试图持所者)且P>1，进行自旋  
 尝试几次自旋后暂停Barging
 * 1.9  
 等待锁超过1ms时标记为饥饿  
 有饥饿时停用自旋触发Handsoff  
